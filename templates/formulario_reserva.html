<form action="/cadastrar_reserva" method="POST">
  <label for="nomeCompleto">Nome Completo</label>
  <input type="text" id="nomeCompleto" name="nomeCompleto">
  
  <label for="cpf">CPF</label>
  <input type="text" id="cpf" name="cpf">
  
  <label for="pousadaId">Pousada ID</label>
  <input type="text" id="pousadaId" name="pousadaId">
  <button type="button" id="checarPousada">Checar</button>
  
  <label for="nomePousada">Nome da Pousada</label>
  <input type="text" id="nomePousada" name="nomePousada" readonly>
  
  <label for="diaCheckin">Data de Check-in</label>
  <input type="date" id="diaCheckin" name="diaCheckin">
  
  <label for="diaCheckout">Data de Check-out</label>
  <input type="date" id="diaCheckout" name="diaCheckout">
  
  <label for="quantidade">Número de Pessoas</label>
  <input type="number" id="quantidade" name="quantidade">
  
  <label for="valor">Preço</label>
  <input type="text" id="valor" name="valor" readonly>
  
  <label for="metodoPagamento">Método de Pagamento</label>
  <input type="text" id="metodoPagamento" name="metodoPagamento">
  
  <button type="submit">Incluir</button>
</form>

<script>
  document.getElementById('checarPousada').addEventListener('click', function() {
      var pousadaId = document.getElementById('pousadaId').value;
      
      if (pousadaId) {
          fetch(`/buscar_pousada_preco?pousada_id=${pousadaId}`)
              .then(response => response.json())
              .then(data => {
                  if (data.success) {
                      document.getElementById('nomePousada').value = data.nome;
                      document.getElementById('valor').value = data.preco;
                  } else {
                      alert('Pousada não encontrada.');
                  }
              })
              .catch(error => {
                  console.error('Erro ao buscar pousada:', error);
                  alert('Erro ao buscar pousada.');
              });
      } else {
          alert('Por favor, insira um ID de pousada.');
      }
  });
</script>

